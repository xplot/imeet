function init_app(){window.App={Models:{},Collections:{},Views:{},Router:{}},Backbone.pubSub=_.extend({},Backbone.Events),Backbone.pubSub.publish=Backbone.pubSub.trigger,Backbone.pubSub.subscribe=Backbone.pubSub.bind,Backbone.pubSub.unsubscribe=Backbone.pubSub.unbind,login_view=new ModalView({el:"#modal_container",templateId:"#login"}),user_register_view=new UserRegisterView({el:"#modal_container"}),register_view=new ModalView({el:"#modal_container",childView:user_register_view}),user_profile_view=new UserProfileView({el:"#modal_container"}),profile_view=new ModalView({el:"#modal_container",childView:user_profile_view}),create_invite_view=new CreateView({el:"#modal_container"}),create_invite=new ModalView({el:"#modal_container",childView:create_invite_view}),search_view=new SearchView({el:"#modal_container"}),search_view_modal=new ModalView({el:"#modal_container",childView:search_view}),invite_view=new InviteView({el:"#modal_container"}),invite_view_modal=new ModalView({el:$("#modal_container"),childView:invite_view}),App.Router=Backbone.Router.extend({routes:{"":"index","new":"new",search:"search",login:"login","profile/edit":"edit_profile",register:"register","view/:id":"view"},index:function(){},login:function(){login_view.render()},register:function(){register_view.render()},edit_profile:function(){profile_view.render()},"new":function(){create_invite.render()},search:function(){search_view_modal.render()},view:function(a){invite_view_modal.render({invite_id:a})}}),new App.Router,Backbone.history.start({pushState:!0}),$("body").on("click",".navigate",function(){Backbone.history.navigate($(this).data("where"),!0)})}